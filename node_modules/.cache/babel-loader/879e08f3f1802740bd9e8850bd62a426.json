{"ast":null,"code":"import _classCallCheck from\"/Users/jonesveriatohoffstetter/ReactJs/conversor_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jonesveriatohoffstetter/ReactJs/conversor_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/jonesveriatohoffstetter/ReactJs/conversor_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/jonesveriatohoffstetter/ReactJs/conversor_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Conversor.css';import intl from'react-intl-universal';var locales={'pt-BR':require('../locales/pt-BR.json'),'en-US':require('../locales/en-US.json')};var Conversor=/*#__PURE__*/function(_Component){_inherits(Conversor,_Component);var _super=_createSuper(Conversor);function Conversor(props){var _this;_classCallCheck(this,Conversor);_this=_super.call(this,props);_this.componentDidMount=function(){_this.convert();};_this.convert=function(){var typedVal=_this.state.moedaA_valor;var ls=localStorage.getItem('cot');var json=JSON.parse(ls);if(_this.props.moedaA==='USD'){var cot1=parseFloat(json.USD_BRL.val).toFixed(2);var moedaB_valor=parseFloat(typedVal*cot1);_this.setState({moedaB_valor:moedaB_valor});}else{var _cot=parseFloat(json.EUR_BRL.val).toFixed(2);var _moedaB_valor=parseFloat(typedVal*_cot);_this.setState({moedaB_valor:_moedaB_valor});}/*\n    let from_to = `${this.props.moedaA}_${this.props.moedaB}`\n    let url = `https://free.currconv.com/api/v7/convert?apiKey=02a0baf4414a654a31db&q=${from_to}&compact=y`\n\n    fetch(url)\n      .then(res => {\n        return res.json()\n      })\n      .then(json => {\n        //console.log(json)\n        let cot = json[from_to].val\n        let moedaB_valor = parseFloat(typedVal * cot)\n        this.setState({ moedaB_valor })\n      })\n      */};_this.maskValue=function(i){var v=i.replace(/\\D/g,'');v=(v/100).toFixed(2)+'';v=v.replace('.',',');v=v.replace(/(\\d)(\\d{1})(\\d{}),/g,'$1.$2.$3,');v=v.replace(/(\\d)(\\d{3}),/g,'$1.$2,');return v;};_this.getVal=function(){var valStr=_this.maskValue(_this.state.moedaA_valor);return valStr;};_this.setRes=function(){var val=_this.maskValue(_this.state.moedaB_valor);//let val = this.state.moedaB_valorStr\nreturn val.toFixed(2);};_this.state={moedaA_valor:'1',//para calcular\nmoedaB_valor:0};var currentLocale=locales[navigator.language]?navigator.language:'pt-BR';intl.init({currentLocale:currentLocale,locales:locales});return _this;}_createClass(Conversor,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"conversor\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title2\"},/*#__PURE__*/React.createElement(\"h2\",null,this.props.moedaA,\" -> \",this.props.moedaB)),/*#__PURE__*/React.createElement(\"div\",{className:\"inputs\"},/*#__PURE__*/React.createElement(\"input\",{className:\"input\",type:\"text\",pattern:\"[0-9]+$\"//value={this.getVal()}\n,value:this.state.moedaA_valor,onChange:function onChange(event){event.persist();var ev=event;var val=ev.target.value;_this2.setState({moedaA_valor:val});}}),/*#__PURE__*/React.createElement(\"input\",{className:\"btn\",type:\"button\",value:intl.get('btn.convert'),onClick:this.convert}),/*#__PURE__*/React.createElement(\"input\",{className:\"result\"//value={this.setRes()}\n,value:this.state.moedaB_valor.toFixed(2),disabled:true})));}}]);return Conversor;}(Component);export default Conversor;","map":{"version":3,"sources":["/Users/jonesveriatohoffstetter/ReactJs/conversor_react/src/components/Conversor.js"],"names":["React","Component","intl","locales","require","Conversor","props","componentDidMount","convert","typedVal","state","moedaA_valor","ls","localStorage","getItem","json","JSON","parse","moedaA","cot1","parseFloat","USD_BRL","val","toFixed","moedaB_valor","setState","EUR_BRL","maskValue","i","v","replace","getVal","valStr","setRes","currentLocale","navigator","language","init","moedaB","event","persist","ev","target","value","get"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './Conversor.css'\nimport intl from 'react-intl-universal'\n\nconst locales = {\n  'pt-BR': require('../locales/pt-BR.json'),\n  'en-US': require('../locales/en-US.json')\n}\n\nclass Conversor extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      moedaA_valor: '1', //para calcular\n      moedaB_valor: 0\n    }\n\n    const currentLocale = locales[navigator.language]\n      ? navigator.language\n      : 'pt-BR'\n\n    intl.init({\n      currentLocale,\n      locales\n    })\n  }\n\n  componentDidMount = () => {\n    this.convert()\n  }\n\n  convert = () => {\n    let typedVal = this.state.moedaA_valor\n    let ls = localStorage.getItem('cot')\n    let json = JSON.parse(ls)\n    if (this.props.moedaA === 'USD') {\n      let cot1 = parseFloat(json.USD_BRL.val).toFixed(2)\n      let moedaB_valor = parseFloat(typedVal * cot1)\n      this.setState({ moedaB_valor })\n    } else {\n      let cot1 = parseFloat(json.EUR_BRL.val).toFixed(2)\n      let moedaB_valor = parseFloat(typedVal * cot1)\n      this.setState({ moedaB_valor })\n    }\n\n    /*\n    let from_to = `${this.props.moedaA}_${this.props.moedaB}`\n    let url = `https://free.currconv.com/api/v7/convert?apiKey=02a0baf4414a654a31db&q=${from_to}&compact=y`\n\n    fetch(url)\n      .then(res => {\n        return res.json()\n      })\n      .then(json => {\n        //console.log(json)\n        let cot = json[from_to].val\n        let moedaB_valor = parseFloat(typedVal * cot)\n        this.setState({ moedaB_valor })\n      })\n      */\n  }\n\n  maskValue = i => {\n    var v = i.replace(/\\D/g, '')\n    v = (v / 100).toFixed(2) + ''\n    v = v.replace('.', ',')\n    v = v.replace(/(\\d)(\\d{1})(\\d{}),/g, '$1.$2.$3,')\n    v = v.replace(/(\\d)(\\d{3}),/g, '$1.$2,')\n    return v\n  }\n\n  getVal = () => {\n    let valStr = this.maskValue(this.state.moedaA_valor)\n    return valStr\n  }\n\n  setRes = () => {\n    let val = this.maskValue(this.state.moedaB_valor)\n    //let val = this.state.moedaB_valorStr\n    return val.toFixed(2)\n  }\n\n  render () {\n    return (\n      <div className='conversor'>\n        <div className='title2'>\n          <h2>\n            {this.props.moedaA} -> {this.props.moedaB}\n          </h2>\n        </div>\n        <div className='inputs'>\n          <input\n            className='input'\n            type='text'\n            pattern='[0-9]+$'\n            //value={this.getVal()}\n            value={this.state.moedaA_valor}\n            onChange={event => {\n              event.persist()\n              let ev = event\n              var val = ev.target.value\n              this.setState({ moedaA_valor: val })\n            }}\n          ></input>\n          <input\n            className='btn'\n            type='button'\n            value={intl.get('btn.convert')}\n            onClick={this.convert}\n          ></input>\n          <input\n            className='result'\n            //value={this.setRes()}\n            value={this.state.moedaB_valor.toFixed(2)}\n            disabled={true}\n          ></input>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Conversor\n"]},"metadata":{},"sourceType":"module"}