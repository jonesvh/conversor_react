{"ast":null,"code":"import _classCallCheck from\"/Users/jonesveriatohoffstetter/ReactJs/conversor_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jonesveriatohoffstetter/ReactJs/conversor_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/jonesveriatohoffstetter/ReactJs/conversor_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/jonesveriatohoffstetter/ReactJs/conversor_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Select from'react-select';import'./Conversor2.css';import allCurrency from'./json';import intl from'react-intl-universal';var locales={'pt-BR':require('../locales/pt-BR.json'),'en-US':require('../locales/en-US.json')};var Conversor2=/*#__PURE__*/function(_Component){_inherits(Conversor2,_Component);var _super=_createSuper(Conversor2);function Conversor2(){var _this;_classCallCheck(this,Conversor2);_this=_super.call(this);_this.convert=function(){if(!_this.state.currency1||!_this.state.currency2||!_this.state.value){alert(intl.get('msg.fillallinputs'));}else{var from_to=\"\".concat(_this.state.currency1,\"_\").concat(_this.state.currency2);var url=\"https://free.currconv.com/api/v7/convert?apiKey=02a0baf4414a654a31db&q=\".concat(from_to,\"&compact=y\");//console.log(url)\nfetch(url).then(function(res){return res.json();}).then(function(json){var cot=parseFloat(json[from_to].val);//console.log(this.state.value)\nvar val=parseFloat(_this.state.value);var result=val*cot;result=result.toFixed(2);_this.setState({result:result});//console.log('buscou Conversor 2')\n});}};_this.state={value:'',currency1:0,currency2:0,result:0,currencies:[],iniValue:'{value: \"ALL\", label: \"ALL\"}'};var currentLocale=locales[navigator.language]?navigator.language:'pt-BR';intl.init({currentLocale:currentLocale,locales:locales});return _this;}_createClass(Conversor2,[{key:\"componentDidMount\",value:function componentDidMount(){//let url = 'https://free.currconv.com/api/v7/currencies?apiKey=02a0baf4414a654a31db'\n/*fetch(url)\n      .then(res => {\n        return res.json()\n      })\n      .then(json => {\n        this.setState({ currencies: json })\n      })*/var curr=Object.keys(allCurrency.results);var currencies=curr.map(function(c){return{value:c,label:c};});this.setState({currencies:currencies});}},{key:\"render\",value:function render(){var _this2=this;//console.log(options)\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"conversor2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inputs2\"},/*#__PURE__*/React.createElement(\"input\",{className:\"input\",type:\"text\",onChange:function onChange(ev){ev.persist();var evnt=ev;var val=evnt.target.value.replace(',','.');_this2.setState({value:val});}}),/*#__PURE__*/React.createElement(\"div\",{className:\"currencies\"},/*#__PURE__*/React.createElement(Select//value={this.state.iniValue}\n,{placeholder:intl.get(\"currency.one\"),className:\"select\",onChange:function onChange(ev){//console.log(ev)\n_this2.setState({currency1:ev.value});},options:this.state.currencies}),/*#__PURE__*/React.createElement(\"h3\",{className:\"title2\"},\"->\"),/*#__PURE__*/React.createElement(Select//value={this.state.iniValue}\n,{placeholder:intl.get(\"currency.two\"),className:\"select\",onChange:function onChange(ev){_this2.setState({currency2:ev.value});},options:this.state.currencies})),/*#__PURE__*/React.createElement(\"input\",{className:\"btn\",onClick:this.convert,type:\"button\",value:intl.get(\"btn.convert\")}),/*#__PURE__*/React.createElement(\"input\",{className:\"result\",type:\"text\",value:this.state.result,disabled:true})));}}]);return Conversor2;}(Component);export{Conversor2 as default};","map":{"version":3,"sources":["/Users/jonesveriatohoffstetter/ReactJs/conversor_react/src/components/Conversor2.js"],"names":["React","Component","Select","allCurrency","intl","locales","require","Conversor2","convert","state","currency1","currency2","value","alert","get","from_to","url","fetch","then","res","json","cot","parseFloat","val","result","toFixed","setState","currencies","iniValue","currentLocale","navigator","language","init","curr","Object","keys","results","map","c","label","ev","persist","evnt","target","replace"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Select from 'react-select'\nimport './Conversor2.css'\nimport allCurrency from './json'\nimport intl from 'react-intl-universal';\n\nconst locales = {\n  'pt-BR': require('../locales/pt-BR.json'),\n  'en-US': require('../locales/en-US.json')\n}\n\nexport default class Conversor2 extends Component {\n  constructor () {\n    super()\n    this.state = {\n      value: '',\n      currency1: 0,\n      currency2: 0,\n      result: 0,\n      currencies: [],\n      iniValue: '{value: \"ALL\", label: \"ALL\"}'\n    }\n     const currentLocale = locales[navigator.language]\n      ? navigator.language\n      : 'pt-BR'\n\n    intl.init({\n      currentLocale,\n      locales\n    })\n  }\n\n  componentDidMount () {\n    //let url = 'https://free.currconv.com/api/v7/currencies?apiKey=02a0baf4414a654a31db'\n    /*fetch(url)\n      .then(res => {\n        return res.json()\n      })\n      .then(json => {\n        this.setState({ currencies: json })\n      })*/\n\n    let curr = Object.keys(allCurrency.results)\n    let currencies = curr.map(c => {\n      return { value: c, label: c }\n    })\n    this.setState({ currencies })\n  }\n\n  convert = () => {\n    if (!this.state.currency1 || !this.state.currency2 || !this.state.value) {\n      alert(intl.get('msg.fillallinputs'))\n    } else {\n      let from_to = `${this.state.currency1}_${this.state.currency2}`\n      let url = `https://free.currconv.com/api/v7/convert?apiKey=02a0baf4414a654a31db&q=${from_to}&compact=y`\n      //console.log(url)\n\n      fetch(url)\n        .then(res => {\n          return res.json()\n        })\n        .then(json => {\n          let cot = parseFloat(json[from_to].val)\n          //console.log(this.state.value)\n          let val = parseFloat(this.state.value)\n          let result = val * cot\n          result = result.toFixed(2)\n          this.setState({ result })\n\n          //console.log('buscou Conversor 2')\n        })\n    }\n  }\n\n  render () {\n    //console.log(options)\n\n    return (\n      <div className='conversor2'>\n        <div className='inputs2'>\n          <input\n            className='input'\n            type='text'\n            onChange={ev => {\n              ev.persist()\n              const evnt = ev\n              var val = evnt.target.value.replace(',', '.')\n              this.setState({ value: val })\n            }}\n          ></input>\n          <div className='currencies'>\n            <Select\n              //value={this.state.iniValue}\n              placeholder={intl.get(\"currency.one\")}\n              className='select'\n              onChange={ev => {\n\n                //console.log(ev)\n                this.setState({ currency1: ev.value })\n              }}\n              options={this.state.currencies}\n            ></Select>\n            <h3 className='title2'>-></h3>\n            <Select\n              //value={this.state.iniValue}\n              placeholder={intl.get(\"currency.two\")}\n              className='select'\n              onChange={ev => {\n                this.setState({ currency2: ev.value })\n              }}\n              options={this.state.currencies}\n            ></Select>\n          </div>\n          <input\n            className='btn'\n            onClick={this.convert}\n            type='button'\n            value={intl.get(\"btn.convert\")}\n          ></input>\n          <input\n            className='result'\n            type='text'\n            value={this.state.result}\n            disabled={true}\n          ></input>\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}